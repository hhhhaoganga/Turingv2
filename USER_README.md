# Turingv2 使用指南（面向用户）

本应用是一个图形化的数字电路编辑与仿真工具。你可以在画布上拖放元件、连接导线，实时查看逻辑状态，并将电路保存/打开；还可以把任意电路封装为“自定义元件”重复使用。

## 安装与运行
- 下载最新版release解压后，运行可执行文件 `Turingv2.exe` 即可。
- 若从源码构建：使用 Qt Creator 打开项目或用 CMake 生成工程，编译后运行。

## 界面简介
- 顶部工具栏：
  - 内置元件按钮：`输入`、`输出`、`与门/或门/非门/...`。
  - 封装元件区：封装后会在工具栏右侧出现对应按钮。
- 多标签页：每个标签页是一张独立的电路画布。
- 画布：放置与连线的工作区域。

## 基本操作
- 添加元件：
  1) 点击工具栏中的元件按钮（按钮会保持按下状态）。
  2) 在画布上点击任意位置放下元件。
  3) 放置后按钮会自动弹起，恢复到“空闲模式”。
- 连接导线：
  1) 在某个元件上点击引脚（小圆点）开始连线。
  2) 拖到另一个元件的对应引脚并释放鼠标完成连线。
  3) 仅允许从“输出引脚”连接到“输入引脚”，且输入引脚不能被多条导线占用。
- 切换输入状态：
  - 点击 `输入` 元件左半区域，可以在 0/1 之间切换，其输出随之更新。
- 删除：
  - 右键点击导线或元件即可删除；
  - 删除元件会同时删除与之相连的所有导线。

## 保存与打开
- 保存：文件 → 保存，选择路径后将当前标签页的电路导出为 `.json` 文件。
- 打开：文件 → 打开，选择 `.json` 文件后将在新标签页中载入并显示。

## 自定义元件（封装）
- 将当前电路封装为一个“自定义元件”：
  1) 确保电路包含至少一个 `输入` 和一个 `输出` 元件（用于定义外部引脚）。
  2) 菜单中选择封装功能，输入名称后保存。
  3) 保存成功后，右侧工具栏会自动刷新出现这个新元件。
- 使用方法：像内置元件一样点击按钮并放到画布即可。
- 删除自定义元件：在自定义元件按钮区域右键，在菜单中选择“从库中删除”。

## 小贴士
- 若发现删除导线后状态没有立即刷新，可以轻触一下画布或触发一次输入切换；应用内部会在结构变化后自动重新仿真。
- 打开文件会自动新建一个标签页，不会覆盖当前画布。

## 常见问题
- 无法连接引脚：请确认方向是否正确（输出 → 输入），且目标输入引脚是否已被占用。
- 打开失败：请确认文件是由本应用保存生成的 `.json`，且未被手动修改为不兼容结构。

祝你使用愉快！
